{"version":3,"sources":["assets/images/user.jpg","redux/dialogs-reducer.js","api/api.js","components/navbar/navbar.module.css","reportWebVitals.js","components/header/header.jsx","redux/auth-reducer.js","components/header/headerContainer.jsx","components/navbar/navbar.jsx","components/Music/Music.jsx","components/Newsfeed/Newsfeed.jsx","components/Settings/Settings.jsx","redux/users-reducer.js","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","App.js","index.js","components/common/FormsControls/FormsControls.js","components/common/FormsControls/FormsControls.module.css","components/Users/users.module.css","components/common/Paginator/Paginator.module.css","utils/validators/validators.js","assets/images/puff.svg","components/common/Preloader/Preloader.js","components/header/header.module.css","redux/profile-reducer.js"],"names":["SEND_MESSAGE","initialState","dialogs","id","name","messages","message","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","body","instance","axios","baseURL","withCredentials","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","profileAPI","getProfile","getStatus","updateStatus","status","put","mountPhoto","photo","formData","FormData","append","saveProfile","profileData","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","module","exports","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Header","props","className","s","header","src","loginBlock","isAuth","onClick","to","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","captchaUrl","getCaptchaUrlSuccess","payload","setAuthUserData","getAuthUserData","dispatch","a","resultCode","url","authReducer","HeaderContainer","this","React","Component","connect","auth","Navbar","nav","item","activeClassName","active","Music","Newsfeed","Settings","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_FOLLOWING_IN_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","setCurrentPage","toggleIsFetching","togglefollowingProgress","usersReducer","map","u","userID","followed","totalCount","filter","Paginator","useState","portions","setPortions","pagesCount","Math","ceil","pages","i","push","styles","paginatorMain","disabled","pagesForm","slice","p","page","selectedPage","onPageChanged","floor","User","user","userCard","photos","small","userPhoto","some","key","Users","usersBlock","reverse","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","requestUsers","Preloader","compose","items","LoginRedaxForm","reduxForm","form","handleSubmit","error","onSubmit","Field","placeholder","component","Input","validate","required","style","formSummaryError","length","stopSubmit","_error","INITIALIZED_SUCCESS","initialized","appReducer","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","ProfileContainer","lazy","DialogsContainer","App","initializeApp","path","render","Suspense","fallback","ContainerApp","promise","Promise","all","HeyHoApp","ReactDOM","document","getElementById","FormControl","input","meta","child","hasError","touched","formControl","children","Textarea","restProps","value","maxLengthCreator","maxLength","preloader","ADD_POST","SET_USER_PROFILE","SET_STATUS","SET_PHOTO","posts","likesCount","profile","addPostActionCreator","newPostBody","setStatus","getUserProfile","selectedPhoto","getState","reject","newPost"],"mappings":"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","file":"static/js/main.7b5a9e65.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/user.24b6ba7b.jpg\";","const SEND_MESSAGE = \"SEND-MESSAGE\";\r\n\r\nlet initialState = {\r\n  dialogs: [\r\n    { id: 1, name: \"Dimon\" },\r\n    { id: 2, name: \"Korgikkk\" },\r\n    { id: 3, name: \"Santella\" },\r\n    { id: 4, name: \"Eugine\" },\r\n    { id: 5, name: \"VityaGanstaaaa\" },\r\n  ],\r\n\r\n  messages: [\r\n    { id: 1, message: \"yo\" },\r\n    { id: 2, message: \"yoyoyo\" },\r\n    { id: 3, message: \"i am a ganstaaa shit\" },\r\n    { id: 4, message: \"fuck you motherfucker\" },\r\n    { id: 5, message: \"peace of shit\" },\r\n  ]\r\n};\r\n\r\nconst dialogsReducer = (state=initialState, action) => {\r\n  switch (action.type) {\r\n    case SEND_MESSAGE: \r\n    let body = { id: 6, message: action.newMessageBody };\r\n    return {\r\n      ...state,\r\n      messages: [...state.messages, body]\r\n    };\r\n    default:\r\n      return state;\r\n  };\r\n};\r\n\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({ type: SEND_MESSAGE, newMessageBody });\r\n\r\nexport default dialogsReducer;\r\n","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n  withCredentials: true,\r\n  headers: { \"API-KEY\": \"132defaa-6fcc-483a-ab71-74a85f8d233f\" },\r\n});\r\n\r\nexport const usersAPI = {\r\n  getUsers(currentPage, pageSize) {\r\n    return instance\r\n      .get(`users?page=${currentPage}&count=${pageSize}`)\r\n      .then((response) => {\r\n        return response.data;\r\n      });\r\n  },\r\n  follow(userId) {\r\n    return instance.post(`follow/${userId}`).then((response) => {\r\n      return response.data;\r\n    });\r\n  },\r\n  unfollow(userId) {\r\n    return instance.delete(`follow/${userId}`).then((response) => {\r\n      return response.data;\r\n    });\r\n  },\r\n};\r\n\r\nexport const profileAPI = {\r\n  getProfile(userId) {\r\n    return instance.get(`profile/${userId}`).then((response) => {\r\n      return response.data;\r\n    });\r\n  },\r\n  getStatus(userId) {\r\n    return instance.get('profile/status/' + userId)\r\n  },\r\n  updateStatus(status) {\r\n      return instance.put('profile/status', {status: status})\r\n  },\r\n  mountPhoto(photo) {\r\n    const formData = new FormData();\r\n    formData.append(\"image\", photo)\r\n    return instance.put('profile/photo', formData, {\r\n      'Content-Type' : 'multipart/form-data' \r\n    })\r\n  },\r\n  saveProfile(profileData) {\r\n    return instance.put('profile', profileData)\r\n  }\r\n};\r\n\r\nexport const authAPI = {\r\n  me() {\r\n    return instance.get(`auth/me`).then((response) => {\r\n      return response.data;\r\n    });\r\n  },\r\n  login (email, password, rememberMe=true, captcha=null) {\r\n    return instance.post('auth/login', {email, password, rememberMe, captcha})\r\n  },\r\n  logout () {\r\n    return instance.delete('auth/login')\r\n  }\r\n}; \r\n\r\nexport const securityAPI = {\r\n  getCaptchaUrl () {\r\n    return instance.get('security/get-captcha-url')\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"navbar_nav__2zp-d\",\"item\":\"navbar_item__L4BBU\",\"active\":\"navbar_active__W87q5\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './header.module.css';\r\n\r\n\r\nconst Header = (props) => {\r\n    \r\n\r\n    \r\n    return (\r\n        <header className={s.header}>\r\n            <img src=\"https://static.rfstat.com/renderforest/images/v2/logo-homepage/gradient_3.png\" />\r\n            <div className={s.loginBlock}>\r\n                {props.isAuth \r\n                ? <div>{props.login} - <button onClick={props.logout}>Log out</button></div>\r\n                : <NavLink to={'/login'} >Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    )\r\n};\r\n\r\nexport default Header;\r\n","import { authAPI, securityAPI } from \"../api/api\";\r\nimport { stopSubmit } from \"redux-form\";\r\n\r\nconst SET_USER_DATA = \"SET_USER_DATA\";\r\nconst GET_CAPTCHA_URL_SUCCESS = \"GET_CAPTCHA_URL_SUCCESS\";\r\n\r\nlet initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n  captchaUrl: null,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GET_CAPTCHA_URL_SUCCESS:\r\n    case SET_USER_DATA:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst getCaptchaUrlSuccess = (captchaUrl) => ({\r\n  type: GET_CAPTCHA_URL_SUCCESS,\r\n  payload: {captchaUrl},\r\n});\r\n\r\nconst setAuthUserData = (userId, email, login, isAuth) => ({\r\n  type: SET_USER_DATA,\r\n  payload: { userId, email, login, isAuth },\r\n});\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n  let data = await authAPI.me();\r\n  if (data.resultCode === 0) {\r\n    let { id, email, login } = data.data;\r\n    dispatch(setAuthUserData(id, email, login, true));\r\n  }\r\n};\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n  let response = await authAPI.login(email, password, rememberMe, captcha);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(getAuthUserData());\r\n  } else {\r\n    if (response.data.resultCode === 10) {\r\n      dispatch(getCaptchaUrl());\r\n    }\r\n    let message =\r\n      response.data.messages.length > 0\r\n        ? response.data.messages[0]\r\n        : \"some error\";\r\n    dispatch(stopSubmit(\"login\", { _error: message }));\r\n  }\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n  let response = await authAPI.logout();\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setAuthUserData(null, null, null, false));\r\n  }\r\n};\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n  const response = await securityAPI.getCaptchaUrl();\r\n  const captchaUrl = response.data.url;\r\n\r\n  dispatch(getCaptchaUrlSuccess(captchaUrl));\r\n};\r\n\r\nexport default authReducer;\r\n","import React from 'react';\r\nimport Header from './header';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from '../../redux/auth-reducer';\r\n\r\n\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n    \r\n    render () {\r\n    return <Header {...this.props}/>\r\n    };\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n});\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from 'react';\r\nimport s from './navbar.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nconst Navbar = () => {\r\n  return (\r\n    <nav className={s.nav}>\r\n      <div className={s.item}>\r\n        <NavLink to='/profile' activeClassName={s.active}>Profile</NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to='/users' activeClassName={s.active}>Users</NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to='/dialogs' activeClassName={s.active}>Messages</NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to='/newsfeed' activeClassName={s.active}>News</NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to='/music' activeClassName={s.active}>Music</NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to='/settings' activeClassName={s.active}>Settings</NavLink>\r\n      </div>\r\n    </nav>\r\n  )\r\n};\r\n\r\nexport default Navbar;\r\n","import React from 'react';\r\n\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Music;","import React from 'react';\r\n\r\n\r\nconst Newsfeed = () => {\r\n    return (\r\n        <div>\r\n            Newsfeed\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Newsfeed;","import React from 'react';\r\n\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Settings;","import { usersAPI } from \"../api/api\";\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET-USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_FOLLOWING_IN_PROGRESS = \"TOGGLE_FOLLOWING_IN_PROGRESS\";\r\n\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 100,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: true,\r\n  followingInProgress: [],\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map((u) => {\r\n          if (u.id === action.userID) {\r\n            return { ...u, followed: true };\r\n          }\r\n          return u;\r\n        }),\r\n      };\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map((u) => {\r\n          if (u.id === action.userID) {\r\n            return { ...u, followed: false };\r\n          }\r\n          return u;\r\n        }),\r\n      };\r\n    case SET_USERS:\r\n      return { ...state, users: action.users };\r\n    case SET_CURRENT_PAGE:\r\n      return { ...state, currentPage: action.currentPage };\r\n    case SET_TOTAL_USERS_COUNT:\r\n      return { ...state, totalUsersCount: action.totalCount };\r\n    case TOGGLE_IS_FETCHING:\r\n      return { ...state, isFetching: action.isFetching };\r\n    case TOGGLE_FOLLOWING_IN_PROGRESS:\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userId]\r\n          : [...state.followingInProgress.filter((id) => id != action.userId)],\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const followSuccess = (userID) => ({ type: FOLLOW, userID });\r\nexport const unfollowSuccess = (userID) => ({ type: UNFOLLOW, userID });\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\nexport const setCurrentPage = (currentPage) => ({\r\n  type: SET_CURRENT_PAGE,\r\n  currentPage,\r\n});\r\nexport const setTotalUsersCount = (totalCount) => ({\r\n  type: SET_TOTAL_USERS_COUNT,\r\n  totalCount,\r\n});\r\nexport const toggleIsFetching = (isFetching) => ({\r\n  type: TOGGLE_IS_FETCHING,\r\n  isFetching,\r\n});\r\nexport const togglefollowingProgress = (isFetching, userId) => ({\r\n  type: TOGGLE_FOLLOWING_IN_PROGRESS,\r\n  isFetching,\r\n  userId,\r\n});\r\n\r\nexport const requestUsers = (currentPage, pageSize) => async (dispatch) => {\r\n  dispatch(toggleIsFetching(true));\r\n  dispatch(setCurrentPage(currentPage));\r\n\r\n  let data = await usersAPI.getUsers(currentPage, pageSize);\r\n  dispatch(toggleIsFetching(false));\r\n  dispatch(setUsers(data.items));\r\n  dispatch(setTotalUsersCount(data.totalCount));\r\n};\r\n\r\nexport const unfollow = (userId) => async (dispatch) => {\r\n  dispatch(togglefollowingProgress(true, userId));\r\n  let data = await usersAPI.unfollow(userId);\r\n  if (data.resultCode == 0) {\r\n    dispatch(unfollowSuccess(userId));\r\n  }\r\n  dispatch(togglefollowingProgress(false, userId));\r\n};\r\n\r\nexport const follow = (userId) => async (dispatch) => {\r\n  dispatch(togglefollowingProgress(true, userId));\r\n  let data = await usersAPI.follow(userId);\r\n  if (data.resultCode == 0) {\r\n    dispatch(followSuccess(userId));\r\n  }\r\n  dispatch(togglefollowingProgress(false, userId));\r\n};\r\n\r\nexport default usersReducer;\r\n","import React, { useState } from 'react';\r\nimport styles from './Paginator.module.css';\r\n\r\n\r\n\r\nlet Paginator = (props) => {\r\n\r\n    let [portions, setPortions] = useState(0);\r\n\r\n\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    };\r\n\r\n\r\n\r\n\r\n    return (\r\n\r\n        <div className={styles.paginatorMain}>\r\n\r\n            <span>\r\n                <button\r\n                    onClick={() => setPortions(portions - 1)}\r\n                    disabled={portions < 1}\r\n                >←</button>\r\n            </span>\r\n            <div className={styles.pagesForm}>\r\n                {pages.slice(portions * 20, (portions + 1) * 20).map(p => {\r\n                    return <div key={p} className={styles.page + \" \" +\r\n                        (props.currentPage === p ? styles.selectedPage : '')}\r\n                        onClick={() => { props.onPageChanged(p) }}>{p}</div>\r\n                })}\r\n            </div>\r\n            <span>\r\n                <button\r\n                    onClick={() => setPortions(portions + 1)}\r\n                    disabled={portions > Math.floor(pagesCount / 20) - 1}\r\n                >→</button>\r\n            </span>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport userPhoto from '../../assets/images/user.jpg';\r\nimport styles from './users.module.css';\r\n\r\n\r\n\r\nlet User = ({user, ...props}) => {\r\n\r\n\r\n    return (\r\n        <div key={props.key}\r\n             className={styles.userCard}>\r\n            <div>\r\n                <NavLink to={'/profile/' + user.id}>\r\n                    <div>\r\n                        <img src={user.photos.small != null ? user.photos.small : userPhoto} \r\n                             className={styles.userPhoto} />\r\n                    </div>\r\n                </NavLink>\r\n                <div>\r\n                    {user.followed\r\n                        ? <button disabled={props.followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                            props.unfollow(user.id)\r\n                        }}>Unfollow</button>\r\n                        : <button disabled={props.followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                            props.follow(user.id)\r\n                        }}>Follow</button>}\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <div>{user.name}</div>\r\n                <div><b>{user.status}</b></div>\r\n            </div>\r\n            <div>── • ✤ • ──</div>\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\n\r\nexport default User;","import React from 'react';\r\nimport Paginator from '../common/Paginator/Paginator';\r\nimport User from './User';\r\nimport styles from './users.module.css';\r\n\r\n\r\n\r\nlet Users = (props) => {\r\n\r\n\r\n    return (\r\n        <div className={styles.usersBlock}>\r\n            <Paginator currentPage={props.currentPage}\r\n                       totalUsersCount={props.totalUsersCount}\r\n                       pageSize={props.pageSize}\r\n                       onPageChanged={props.onPageChanged} />\r\n            {\r\n            [...props.users].reverse().map(u => <User user={u}\r\n                                       followingInProgress={props.followingInProgress}\r\n                                       follow={props.follow}\r\n                                       unfollow={props.unfollow}\r\n                                       key={u.id} />)\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default Users;","\r\nexport const getUsers = (state) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n}\r\n\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { follow, unfollow, requestUsers} from '../../redux/users-reducer';\r\nimport Users from './Users';\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport { compose } from 'redux';\r\nimport { getUsers, getCurrentPage, getTotalUsersCount, getFollowingInProgress, getIsFetching, getPageSize } from '../../redux/users-selectors';\r\n\r\n\r\n\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n    \r\n       \r\n    componentDidMount () {\r\n        this.props.requestUsers(this.props.currentPage, this.props.pageSize)\r\n    }\r\n    \r\n    onPageChanged = (pageNumber) => {\r\n        this.props.requestUsers(pageNumber, this.props.pageSize)\r\n    }\r\n    \r\n    render() {\r\n        return (\r\n        <>\r\n        {this.props.isFetching ? <Preloader /> : null}    \r\n        \r\n        <Users currentPage={this.props.currentPage}\r\n        users={this.props.users}\r\n        totalUsersCount={this.props.totalUsersCount}\r\n        unfollow={this.props.unfollow}\r\n        follow={this.props.follow}\r\n        pageSize={this.props.pageSize}\r\n        onPageChanged={this.onPageChanged}\r\n        followingInProgress={this.props.followingInProgress} />\r\n        </>\r\n        )\r\n    }\r\n};\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    };\r\n};\r\n\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {follow, unfollow, requestUsers})\r\n)(UsersContainer);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { required } from '../../utils/validators/validators';\r\nimport { Input } from '../common/FormsControls/FormsControls';\r\nimport { login } from '../../redux/auth-reducer';\r\nimport { Redirect } from 'react-router-dom';\r\nimport style from '../common/FormsControls/FormsControls.module.css';\r\n\r\n\r\n\r\nconst LoginForm = ({handleSubmit, error, captchaUrl}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div>\r\n                <Field placeholder={'Email'} \r\n                       name={'email'} \r\n                       component={Input}\r\n                       validate={[required]} />\r\n            </div>\r\n            <div>\r\n                <Field placeholder={'Password'} \r\n                       name={'password'} \r\n                       component={Input} \r\n                       validate={[required]}\r\n                       type={'password'} />\r\n            </div>\r\n            <div>\r\n                <Field type={'checkbox'} \r\n                       name={'rememberMe'} \r\n                       component={Input} /> remember me\r\n            </div>\r\n            {captchaUrl && <img src={captchaUrl} />}\r\n            {captchaUrl && <Field placeholder='image-symbols'\r\n                                  name='captcha'\r\n                                  validate={[required]}\r\n                                  component={Input} />}\r\n\r\n            { error &&\r\n                <div className={style.formSummaryError}>\r\n                    {error}\r\n                </div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginRedaxForm = reduxForm({ form: 'login' })(LoginForm)\r\n\r\nconst Login = (props) => {\r\n\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'} />\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginRedaxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    captchaUrl : state.auth.captchaUrl\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, {login})(Login);","import { getAuthUserData } from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\";\r\n\r\n\r\n\r\nlet initialState = {\r\n  initialized: false\r\n};\r\n\r\nconst appReducer = (state=initialState, action) => {\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        initialized: true\r\n      };\r\n    \r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n\r\nconst initializedSuccess = () => ({ type: INITIALIZED_SUCCESS });\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n  let  promise = dispatch(getAuthUserData())\r\n  Promise.all([promise]).then(() => {\r\n    dispatch(initializedSuccess())\r\n  })\r\n}\r\n\r\n\r\n\r\nexport default appReducer;\r\n","let initialState = {};\r\n\r\n\r\nconst sidebarReducer = (state=initialState, action) => {\r\n    return state;\r\n};\r\n\r\n\r\nexport default sidebarReducer;","import { applyMiddleware, combineReducers, compose, createStore } from \"redux\";\r\nimport profileReducer from './profile-reducer';\r\nimport dialogsReducer from './dialogs-reducer';\r\nimport sidebarReducer from './sidebar-reducer';\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form';\r\nimport appReducer from './app-reducer';\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n\r\nexport default store;","import React from \"react\";\nimport \"./App.css\";\nimport HeaderContainer from \"./components/header/headerContainer\";\nimport Navbar from \"./components/navbar/navbar\";\nimport { HashRouter, Route } from \"react-router-dom\";\nimport Music from \"./components/Music/Music\";\nimport Newsfeed from \"./components/Newsfeed/Newsfeed\";\nimport Settings from \"./components/Settings/Settings\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport LoginPage from \"./components/Login/Login\";\nimport { connect } from \"react-redux\";\nimport { initializeApp } from \"./redux/app-reducer\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/redux-store\";\n\nconst ProfileContainer = React.lazy(() =>\n  import(\"./components/profile/profileContainer\")\n);\nconst DialogsContainer = React.lazy(() =>\n  import(\"./components/Dialogs/DialogsContainer\")\n);\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n\n  render() {\n    if (!this.props.initialized) {\n      return <Preloader />;\n    }\n    return (\n      <div className=\"app-wrapper\">\n        <HeaderContainer />\n        <Navbar />\n        <div className=\"app-wrapper-content\">\n          <Route\n            path=\"/dialogs\"\n            render={() => {\n              return (\n                <React.Suspense fallback={<div>Loading...</div>}>\n                  <DialogsContainer />\n                </React.Suspense>\n              );\n            }}\n          />\n\n          <Route\n            path=\"/profile/:userId?\"\n            render={() => {\n              return (\n                <React.Suspense fallback={<div>Loading...</div>}>\n                  <ProfileContainer />\n                </React.Suspense>\n              );\n            }}\n          />\n          <Route path=\"/users\" render={() => <UsersContainer />} />\n          <Route path=\"/login\" render={() => <LoginPage />} />\n          <Route path=\"/music\" component={Music} />\n          <Route path=\"/newsfeed\" component={Newsfeed} />\n          <Route path=\"/settings\" component={Settings} />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized,\n});\n\nlet ContainerApp = connect(mapStateToProps, { initializeApp })(App);\n\nconst HeyHoApp = (props) => {\n  return (\n    <HashRouter>\n      <Provider store={store}>\n        <ContainerApp />\n      </Provider>\n    </HashRouter>\n  );\n};\n\nexport default HeyHoApp;\n","import reportWebVitals from \"./reportWebVitals\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport HeyHoApp from \"./App\";\n\n\n\n\n\n  ReactDOM.render( <HeyHoApp />,\n    document.getElementById(\"root\")\n  );\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import React from \"react\";\r\nimport styles from './FormsControls.module.css';\r\n\r\n\r\nexport const FormControl = ({input, meta, child, ...props}) => {\r\n    \r\n    const hasError = meta.touched && meta.error;\r\n    \r\n    return (\r\n        <div className={styles.formControl + ' ' + (hasError ? styles.error : '')}>\r\n            <div>\r\n                {props.children}\r\n            </div>\r\n            { hasError && <span>{meta.error}</span>}            \r\n        </div>\r\n    )\r\n};\r\n\r\nexport const Textarea = (props) => {\r\n    \r\n    const {input, meta, child, ...restProps} = props;\r\n    \r\n    return <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\r\n};\r\n\r\n\r\nexport const Input = (props) => {\r\n    \r\n    const {input, meta, child, ...restProps} = props;\r\n    \r\n    return <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__13XR-\",\"error\":\"FormsControls_error__3Q9Ui\",\"formSummaryError\":\"FormsControls_formSummaryError__i8i8z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__wp0An\",\"usersBlock\":\"users_usersBlock__1bmd9\",\"userCard\":\"users_userCard__2bX1Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"Paginator_page__3_25o\",\"selectedPage\":\"Paginator_selectedPage__32RA9\",\"pagesForm\":\"Paginator_pagesForm__xoPv7\",\"paginatorMain\":\"Paginator_paginatorMain__1gXw5\"};","export const required = value => {\r\n    if (value) return undefined;\r\n    return 'Field is required';\r\n}\r\n\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}","export default __webpack_public_path__ + \"static/media/puff.385f97b7.svg\";","import preloader from '../../../assets/images/puff.svg';\r\n\r\n\r\n\r\nlet Preloader = () => {\r\n    return (\r\n    <div>\r\n    <img src={preloader} />\r\n    </div>\r\n    )\r\n};\r\n\r\n\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__3HJNp\",\"loginBlock\":\"header_loginBlock__3lFCP\"};","import { stopSubmit } from \"redux-form\";\r\nimport { profileAPI } from \"../api/api\";\r\n\r\nconst ADD_POST = \"ADD-POST\";\r\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\r\nconst SET_STATUS = \"SET_STATUS\";\r\nconst SET_PHOTO = \"SET_PHOTO\";\r\n\r\nlet initialState = {\r\n  posts: [\r\n    { id: 1, message: \"I love you\", likesCount: 5 },\r\n    { id: 2, message: \"I hate you\", likesCount: 8 },\r\n    { id: 3, message: \"I fuck you\", likesCount: 13 },\r\n    { id: 4, message: \"I love you\", likesCount: 0 },\r\n    { id: 5, message: \"I hate you\", likesCount: 111 },\r\n  ],\r\n  profile: null,\r\n  status: \"\",\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST:\r\n      let newPost = { id: 6, message: action.newPostBody, likesCount: 0 };\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, newPost],\r\n      };\r\n    case SET_USER_PROFILE:\r\n      return {\r\n        ...state,\r\n        profile: action.profile,\r\n      };\r\n    case SET_STATUS:\r\n      return {\r\n        ...state,\r\n        status: action.status,\r\n      };\r\n    case SET_PHOTO:\r\n      return {\r\n        ...state,\r\n        profile: { ...state.profile, photos: action.photos },\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const addPostActionCreator = (newPostBody) => ({\r\n  type: ADD_POST,\r\n  newPostBody,\r\n});\r\nconst setStatus = (status) => ({ type: SET_STATUS, status });\r\nconst setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile });\r\nconst mountPhotoSuccess = (photos) => ({ type: SET_PHOTO, photos });\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n  let data = await profileAPI.getProfile(userId);\r\n  dispatch(setUserProfile(data));\r\n};\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n  let response = await profileAPI.getStatus(userId);\r\n  dispatch(setStatus(response.data));\r\n};\r\n\r\nexport const selectedPhoto = (photo) => async (dispatch) => {\r\n  let response = await profileAPI.mountPhoto(photo);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(mountPhotoSuccess(response.data.data.photos));\r\n  }\r\n};\r\n\r\nexport const saveProfile = (profileData) => async (dispatch, getState) => {\r\n  const userId = getState().auth.userId;\r\n  const response = await profileAPI.saveProfile(profileData);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(getUserProfile(userId));\r\n  } else {\r\n    dispatch(stopSubmit('edit-profile', {_error: response.data.messages[0]}))\r\n    return Promise.reject(response.data.messages[0])\r\n  }\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n  let response = await profileAPI.updateStatus(status);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setStatus(status));\r\n  }\r\n};\r\n\r\nexport default profileReducer;\r\n"],"sourceRoot":""}